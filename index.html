<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>carp.edu</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="offline.js" defer></script>
</head>
<body class="page-home">
  <div class="page">
    <div class="topbar">
      <a class="top-btn" href="account.html">acount mange ment</a>
      <a class="top-btn" href="carp-coins.html">trading cards</a>
      <a class="top-btn" href="social.html">social feed</a>
      <a class="top-btn" href="carpai.html">carp ai</a>
      <a class="top-btn" href="carp-coins.html">carp coins</a>
      <a class="top-btn" href="carp-apps.html">carp apps</a>
      <a class="top-btn" href="settings.html">settings</a>
      <a class="top-btn" href="host-pages.html">host pages</a>
    </div>

    <section class="big-banner" aria-hidden="false">
      <div class="big-top">welcome to carp</div>
      <div class="big-bottom">
        <span id="bannerMessage">make a acount</span>
        <span class="level-pill" id="homeLevelPill" hidden>Lvl 1</span>
      </div>
    </section>

    <div class="bottom-row" aria-label="five small banners">
      <a class="small-banner" href="carpfish.html" target="_self">carpfish games</a>
      <a class="small-banner" href="social.html" target="_self">social feed</a>
      <a class="small-banner" href="carpai.html" target="_self">carp ai</a>
      <a class="small-banner" href="chats.html" target="_self">private chats</a>
      <a class="small-banner" href="download.html" target="_self" rel="noopener">offline setup</a>
    </div>
  </div>
  <script>
    (function () {
      try {
        const saved = localStorage.getItem('social.account');
        if (!saved) return;
        const account = JSON.parse(saved);
        const banner = document.getElementById('bannerMessage');
        if (account && (account.username || account.email) && banner) {
          banner.textContent = 'have a good time';
        }
        const levelValue = Number(localStorage.getItem('carp.cards.level'));
        const pill = document.getElementById('homeLevelPill');
        if (pill && Number.isFinite(levelValue) && levelValue > 1) {
          pill.hidden = false;
          pill.textContent = 'Lvl ' + levelValue;
        }
      } catch (err) {
        console.error('Account detection failed', err);
      }
    })();
  </script>
</body>
</html>
